<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Employee Details</title>
  <link rel="stylesheet"
    href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,400i,700&display=fallback">
  <!-- Font Awesome -->
  <link rel="stylesheet" href="plugins/fontawesome-free/css/all.min.css">
  <!-- Ionicons -->
  <link rel="stylesheet" href="https://code.ionicframework.com/ionicons/2.0.1/css/ionicons.min.css">
  <!-- Tempusdominus Bootstrap 4 -->
  <link rel="stylesheet" href="plugins/tempusdominus-bootstrap-4/css/tempusdominus-bootstrap-4.min.css">
  <!-- iCheck -->
  <link rel="stylesheet" href="plugins/icheck-bootstrap/icheck-bootstrap.min.css">
  <!-- JQVMap -->
  <link rel="stylesheet" href="plugins/jqvmap/jqvmap.min.css">
  <!-- Theme style -->
  <link rel="stylesheet" href="dist/css/adminlte.min.css">
  <!-- overlayScrollbars -->
  <link rel="stylesheet" href="plugins/overlayScrollbars/css/OverlayScrollbars.min.css">
  <!-- Daterange picker -->
  <link rel="stylesheet" href="plugins/daterangepicker/daterangepicker.css">
  <!-- summernote -->
  <link rel="stylesheet" href="plugins/summernote/summernote-bs4.min.css">
  <link rel="stylesheet" href="./stylesheets/styles.css">
  <script src="https://use.fontawesome.com/d59744589c.js"></script>
</head>

<body class="hold-transition sidebar-mini layout-fixed">
  <div class="wrapper">

    <nav class="main-header navbar navbar-expand-lg navbar-light bg-info">
      <i class="fa fa-home fa-lg"></i><a class="navbar-brand" href="/home">Home</a>
      <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>
    </nav>
    
    <aside class="main-sidebar sidebar-dark-primary elevation-4">
      <!-- Brand Logo -->
      <a href="#" class="brand-link">
        <img src="dist/img/AdminLTELogo.png" alt="AdminLTE Logo" class="brand-image img-circle elevation-3"
          style="opacity: .8">
        <span class="brand-text font-weight-light">Analytics</span>
      </a>

      <!-- Sidebar -->
      <div class="sidebar">
        <!-- Sidebar user panel (optional) -->
        <div class="user-panel mt-3 pb-3 mb-3 d-flex">
          <div class="image">
            <img src="images/user.png" class="img-circle elevation-2" alt="User Image">
          </div>
          <div class="info">
            <a href="#" class="d-block">
              <%= name %>
            </a>
          </div>
        </div>

        <!-- SidebarSearch Form -->
        <div class="form-inline">
          <div class="input-group" data-widget="sidebar-search">
            <input class="form-control form-control-sidebar" type="search" placeholder="Search" aria-label="Search">
            <div class="input-group-append">
              <button class="btn btn-sidebar">
                <i class="fas fa-search fa-fw"></i>
              </button>
            </div>
          </div>
        </div>
        <!-- /.sidebar-menu -->
      </div>
      <!-- /.sidebar -->
    </aside>
    <!-- Content Wrapper. Contains page content -->
    <div class="content-wrapper">
      <!-- Content Header (Page header) -->
      <div class="content-header">
        <div class="container-fluid">
          <div class="row mb-2">
            <div class="col-sm-4">
              <h1 class="m-0">Dashboard</h1>
            </div><!-- /.col -->
            <div class="col-md-3 offset-md-5">
              <button class="btn btn-warning" onclick="window.location.href='/CompareAnalytics/<%= editObject._id %>'">ANALYTICS REPORT</button>
              <button class="btn btn-danger" onclick="window.location.href='/logout'">Logout</button>
            </div><!-- /.col -->
          </div><!-- /.row -->
        </div><!-- /.container-fluid -->
      </div>
      <!-- /.content-header -->
      <section class="content">
        <div class="container">
          <div class="row justify-content-center">
            <div class="col-8 ">
              <form action="/save" method="post">
                <div class="card card-info m-3">
                  <div class="card-header">
                    <h3 class="card-title">Employee Details</h3>
                  </div>
                  <div class="card-body">
                    <% for(var [x,y] of Object.entries(editObject)) { %>
                      <% if(x=="_id") { 
                        continue;
                      }  %> 
                      <label for="<%= x %>"><%= x %> :</label>
                      <div class="card">
                        <input type="text" class="form-control" id="<%= x %>" placeholder="<%= x %>" name="<%= x %>" value="<%= y %>" readonly>
                      </div>
                      <% } %>
                    <input type="hidden" id="monid" name="monid" value="<%= editObject._id %>">

                  </div>
                  <!-- /.card-body -->
                </div>
              </form>
              <div class="d-flex justify-content-center align-items-center m-2">
                <button id="taskStatusButton" class="btn btn-primary">Task Status</button>
              </div>
            </div>

            <div class="container">
              <div class="row">
                <div class="col-md-2 offset-md-3">
                  <div class="d-flex justify-content-center align-items-center">
                    <button id="taskAliveButton" class="btn btn-warning " style="display:none;">Tasks Alive</button>
                  </div>
                </div>
                <div class="col-md-2">
                  <div class=" mr-2 ml-2">
                    <button id="taskFinishedButton" class="btn btn-success" style="display:none;">Tasks Finised</button>
                  </div>

                </div>
                <div class="col-md-2">
                  <div class="d-flex ">
                    <button id="createTaskBtn" class="btn btn-info" style="display:none;">Create Task</button>
                  </div>
                </div>
              </div>

              <!-- tasks alive -->
              <div class="row mt-4 p-3" id="alivePanel" style="display:none;border: 2px solid;">
                <div class="col-12 d-flex justify-content-center align-items-center">
                  <h4>Tasks to be Fininshed</h4>
                </div>
                <% for(var i=0;i<tasks.length;i++) { %>
                  <% if(tasks[i].taskStatus==false) { %>
                  <div class="col-4">
                    <div class="card" style="background-color:darkgrey;">
                      <div class="card-header">
                        <h5 class="card-title">
                          <%= tasks[i].taskTitle %>
                        </h5>
                      </div>
                      <div class="card-body" style="background-color:white;">
                        <h6 class="card-subtitle mb-2 text-muted">Not Yet Finished</h6>
                        <p class="card-text">
                          <%= tasks[i].taskDesc %>
                        </p>
                      </div>
                      <form action="/task/alive/<%= tasks[i].achieverID %>/<%= tasks[i]._id %>" method="post">
                        <div class="card-footer d-flex justify-content-center align-items-center btn-sm " style="background-color:white;">
                          <button type="submit"" class="btn btn-primary">Finishe</button>
                        </div>
                      </form>
                    </div>
                  </div>
                  <%}%>
                  <%}%>
              </div>

              <!-- task finished -->
              <div class="row mt-4 p-3" id="finishedPanel" style="display:none;border: 2px solid;">
                <div class="col-12 d-flex justify-content-center align-items-center">
                  <h4>Tasks Fininshed</h4>
                </div>
                <% for(var i=0;i<tasks.length;i++) { %>
                  <% if(tasks[i].taskStatus==true) { %>
                  <div class="col-4">
                    <div class="card" style="background-color:darkgrey;">
                      <div class="card-header">
                        <h5 class="card-title">
                          <%= tasks[i].taskTitle %>
                        </h5>
                      </div>
                      <div class="card-body" style="background-color:white;">
                        <h6 class="card-subtitle mb-2 text-muted">Not Yet Finished</h6>
                        <p class="card-text">
                          <%= tasks[i].taskDesc %>
                        </p>
                      </div>
                    </div>
                  </div>
                  <%}%>
                  <%}%>
              </div>

              <!-- tasks create -->
              <div class="row mt-4" id="createPanel" style="display:none;border: 2px solid;">
                <div class="text-dark">
                  <h3>Create New Task :</h3>
                </div>
                <div class="col-9">
                  <form class="p-3" action="/task/create/<%= editObject._id %>" method="post">
                    <div class="form-group">
                      <label for="achieverID">Achiever ID :</label>
                      <input type="text" name="achieverID" class="form-control" id="achieverID"
                        value="<%= editObject.EmpID %>" disabled>
                    </div>
                    <div class="form-group">
                      <label for="achieverName">Achiever Name :</label>
                      <input type="text" name="achieverName" class="form-control" id="achieverName"
                        value="<%= editObject.Employee_Name %>" readonly="readonly">
                    </div>
                    <div class="form-group">
                      <label for="taskTitle">Task Title :</label>
                      <input type="text" name="taskTitle" class="form-control" id="taskTitle">
                    </div>
                    <div class="form-group">
                      <label for="taskDesc">Task Description :</label>
                      <textarea name="taskDesc" class="form-control" id="taskDesc" rows="3"></textarea>
                    </div>
                    <div class="d-flex justify-content-center align-items-center">
                      <button type="submit" class="btn btn-primary mr-3">Submit</button>
                      <button type="reset" class="btn btn-secondary">Reset</button>
                    </div>
                  </form>
                </div>

              </div>
            </div>
          </div>
          <!-- /.col -->
        </div>
        <!-- /.row -->
    </div>
    <!-- /.container-fluid -->
    </section>
    <!-- /.content -->
  </div>
  <!-- /.content-wrapper -->
  <footer class="main-footer">
    <strong>Copyright &copy; 2014-2021 <a href="https://adminlte.io">Analytics.io</a>.</strong>
    All rights reserved.
    <div class="float-right d-none d-sm-inline-block">
      <b>Version</b> 3.2.0
    </div>
  </footer>

  <!-- Control Sidebar -->
  <aside class="control-sidebar control-sidebar-dark">
    <!-- Control sidebar content goes here -->
  </aside>
  <!-- /.control-sidebar -->
  </div>
  <!-- ./wrapper -->
  <script src="plugins/jquery/jquery.min.js"></script>
  <!-- jQuery UI 1.11.4 -->
  <script src="plugins/jquery-ui/jquery-ui.min.js"></script>
  <!-- Resolve conflict in jQuery UI tooltip with Bootstrap tooltip -->
  <script>
    $.widget.bridge('uibutton', $.ui.button)
  </script>
  <!-- Bootstrap 4 -->
  <script src="plugins/bootstrap/js/bootstrap.bundle.min.js"></script>
  <!-- ChartJS -->
  <script src="plugins/chart.js/Chart.min.js"></script>
  <!-- Sparkline -->
  <script src="plugins/sparklines/sparkline.js"></script>
  <!-- JQVMap -->
  <script src="plugins/jqvmap/jquery.vmap.min.js"></script>
  <script src="plugins/jqvmap/maps/jquery.vmap.usa.js"></script>
  <!-- jQuery Knob Chart -->
  <script src="plugins/jquery-knob/jquery.knob.min.js"></script>
  <!-- daterangepicker -->
  <script src="plugins/moment/moment.min.js"></script>
  <script src="plugins/daterangepicker/daterangepicker.js"></script>
  <!-- Tempusdominus Bootstrap 4 -->
  <script src="plugins/tempusdominus-bootstrap-4/js/tempusdominus-bootstrap-4.min.js"></script>
  <!-- Summernote -->
  <script src="plugins/summernote/summernote-bs4.min.js"></script>
  <!-- overlayScrollbars -->
  <script src="plugins/overlayScrollbars/js/jquery.overlayScrollbars.min.js"></script>
  <!-- AdminLTE App -->
  <script src="dist/js/adminlte.js"></script>
  <!-- AdminLTE dashboard demo (This is only for demo purposes) -->
  <script src="dist/js/pages/dashboard.js"></script>
  <script>
    var flag1 = 1;
    var flag2 = [1, 1, 1];
    $(document).ready(function () {
      $("#taskStatusButton").click(function () {
        if (flag1 == 1) {
          $('#taskAliveButton').show();
          $("#taskFinishedButton").show();
          $("#createTaskBtn").show();
          flag1 = 0;
        }
        else {
          $('#taskAliveButton').hide();
          $("#taskFinishedButton").hide();
          $("#createTaskBtn").hide();
          flag1 = 1;
        }

      })
      $("#createTaskBtn").click(function () {
        if (flag2[1] == 1) {
          $("#finishedPanel").hide()
          $("#alivePanel").hide();
          $("#createPanel").show();
          flag2[1]=0;
          flag2[0]=1;
          flag2[2]=1
        }
        else{
          $("#createPanel").hide();
          flag2[1]=1;
        }
        
      })
      $("#taskFinishedButton").click(function () {
        if (flag2[2] == 1) {
          $("#alivePanel").hide();
          $("#createPanel").hide();
          $("#finishedPanel").show()
          flag2[2]=0;
          flag2[0]=1;
          flag2[1]=1;
        }
        else{
          $("#finishedPanel").hide();
          flag2[2]=1;
        }
        
      })
      $("#taskAliveButton").click(function () {
        if (flag2[0] == 1) {
          $("#finishedPanel").hide()
          $("#createPanel").hide();
          $("#alivePanel").show();
          flag2[0]=0;
          flag2[1]=1
          flag2[2]=1
        }
        else{
          $("#alivePanel").hide();
          flag2[0]=1;
        }

      })
    })

  </script>
</body>

</html>